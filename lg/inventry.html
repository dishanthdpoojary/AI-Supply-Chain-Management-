<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background: url('static\\two.jpg') no-repeat center center fixed;
            background-size: cover;
            color: white;
        }
        .navbar { 
            background: linear-gradient(to right, #5a0ca5, #1a032b); 
            box-shadow: 0 4px 10px rgba(90, 12, 165, 0.4); 
        }
        .card { 
            background: linear-gradient(to right, #1a032b, #2a0645); 
            border: 1px solid #8321d8; 
            box-shadow: 0 4px 10px rgba(131, 33, 216, 0.5); 
        }
        .button { 
            background: linear-gradient(to right, #8321d8, #5a0ca5); 
            transition: transform 0.3s; 
        }
        .button:hover { 
            background: linear-gradient(to right, #a341ff, #8321d8); 
            transform: scale(1.05); 
        }
        .modal { 
            background: rgba(0, 0, 0, 0.8); 
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar p-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-purple-300">Inventory Management</h1>
        <button class="button px-4 py-2 rounded text-white" onclick="openReportPage()">Generate Report</button>
    </nav>

    <!-- Inventory Section -->
    <div class="p-8 grid grid-cols-2 gap-8" id="inventory-list"></div>

    <!-- Buttons for Adding & Removing Items -->
    <div class="flex justify-center gap-6 mt-6">
        <button class="button px-4 py-2 rounded text-white" onclick="openModal('add')">Add Item</button>
        <button class="button px-4 py-2 rounded text-white" onclick="openModal('remove')">Remove Item</button>
    </div>

    <!-- Modal for Adding/Removing Items -->
    <div id="item-modal" class="hidden fixed inset-0 flex items-center justify-center modal">
        <div class="card p-6 rounded-lg text-center">
            <h2 id="modal-title" class="text-xl font-semibold text-purple-300"></h2>
            <input type="text" id="item-name" placeholder="Item Name" class="p-2 rounded text-black w-full mt-4">
            <input type="number" id="item-qty" placeholder="Quantity" class="p-2 rounded text-black w-full mt-4">
            <button class="mt-4 button px-4 py-2 rounded text-white" onclick="submitItem()">Submit</button>
            <button class="mt-4 bg-red-500 px-4 py-2 rounded text-white" onclick="closeModal()">Cancel</button>
        </div>
    </div>

    <script>
        const inventory = [
            { name: "Sofa", qty: 5, dealer: "John's Furniture, +91 9876543210", shelf_life: "2 years" },
            { name: "Table", qty: 0, dealer: "Elegant Interiors, +91 9123456789", shelf_life: "3 years" }
        ];

        function renderInventory() {
            const list = document.getElementById('inventory-list');
            list.innerHTML = inventory.map((item, index) => `
                <div class="card p-6 rounded-lg">
                    <h2 class="text-xl font-semibold text-purple-300">${item.name}</h2>
                    <p class="text-${item.qty > 0 ? 'green' : 'red'}-400">${item.qty > 0 ? 'In Stock' : 'Out of Stock'} (${item.qty})</p>
                    <button class="button px-3 py-1 rounded text-white mt-2" onclick="showDealer(${index})">View Dealer</button>
                </div>
            `).join('');
        }

        function openModal(type) {
            document.getElementById('modal-title').innerText = type === 'add' ? 'Add New Item' : 'Remove Item';
            document.getElementById('item-modal').classList.remove('hidden');
            document.getElementById('item-modal').dataset.type = type;
        }

        function closeModal() {
            document.getElementById('item-modal').classList.add('hidden');
        }

        function submitItem() {
            const itemName = document.getElementById('item-name').value;
            const itemQty = parseInt(document.getElementById('item-qty').value);
            const type = document.getElementById('item-modal').dataset.type;

            if (type === 'add') {
                const item = inventory.find(item => item.name.toLowerCase() === itemName.toLowerCase());
                if (item) {
                    item.qty += itemQty;
                } else {
                    inventory.push({ name: itemName, qty: itemQty, dealer: "Unknown Dealer", shelf_life: "Unknown" });
                }
                alert(`${itemName} has been added to inventory.`);
            } else {
                const item = inventory.find(item => item.name.toLowerCase() === itemName.toLowerCase());
                if (item) {
                    item.qty -= itemQty;
                    if (item.qty <= 0) {
                        item.qty = 0;
                        alert(`${itemName} is now Out of Stock.`);
                    }
                } else {
                    alert(`${itemName} not found in inventory.`);
                }
            }

            closeModal();
            renderInventory();
        }

        function showDealer(index) {
            alert(`Dealer Info: ${inventory[index].dealer}`);
        }

        function openReportPage() {
            localStorage.setItem('inventoryData', JSON.stringify(inventory));
            window.location.href = 'report.html';
        }

        renderInventory();
    </script>
</body>
</html>
